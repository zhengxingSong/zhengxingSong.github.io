<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hexo next主题配置文件</title>
    <url>/Hexo/Hexo-next%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/</url>
    <content><![CDATA[<h2 id="主题下载"><a href="#主题下载" class="headerlink" title="主题下载"></a>主题下载</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/theme-next/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure>

<p>从该网址下载的next主题为最新版本，使用<code>git tag -l</code>查看版本更新发现自己的版本为v6.5.0.</p>
<span id="more"></span>
<p>下载的时候一定要注意自己的theme的版本，因为后面的美化过程与其息息相关，同时尽量选择最新的版本，我一开始选择的是v5.1.0，其中后期美化的时候就有许多坑（因为这个版本已经不维护了），直到换成v6.5.0，美化的过程才变得顺利。</p>
<h2 id="主题配置文件"><a href="#主题配置文件" class="headerlink" title="主题配置文件"></a>主题配置文件</h2><p>主题配置文件是<code>theme/next/_config.yml</code>文件，所有的主题相关的展示信息都是通过该文件来执行的，</p>
<h3 id="网页信息设置"><a href="#网页信息设置" class="headerlink" title="网页信息设置"></a>网页信息设置</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Site Information Settings</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> See: https://theme-next.org/docs/getting-started/</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line">footer:  ## 网页页脚设置</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Specify the date when the site was setup. If not defined, current year will be used.</span></span><br><span class="line">  since: 2021  ## 开始的年份</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> Icon between year and copyright info.</span></span><br><span class="line">  icon:  # 在年份和作者之间的图标</span><br><span class="line">    # Icon name in Font Awesome. See: https://fontawesome.com/icons</span><br><span class="line">    name: fa fa-heart</span><br><span class="line">    # If you want to animate the icon, set it to true.</span><br><span class="line">    animated: true  ## 是否动态化显示图标</span><br><span class="line">    # Change the color of icon, using Hex Code.</span><br><span class="line">    color: &quot;#ff0000&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> If not defined, `author` from Hexo `_config.yml` will be used.</span></span><br><span class="line">  copyright:  ## 不设置就默认选择站点配置文件的作者</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> Powered by Hexo &amp; NexT</span></span><br><span class="line">  powered: false  ## 是否显示网站下面的Powered by Hexo &amp; NexT</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Beian ICP and gongan information <span class="keyword">for</span> Chinese users. See: https://beian.miit.gov.cn, http://www.beian.gov.cn</span></span><br><span class="line">  beian:</span><br><span class="line">    enable: false</span><br><span class="line">    icp:</span><br><span class="line">    # The digit in the num of gongan beian.</span><br><span class="line">    gongan_id:</span><br><span class="line">    # The full num of gongan beian.</span><br><span class="line">    gongan_num:</span><br><span class="line">    # The icon for gongan beian. See: http://www.beian.gov.cn/portal/download</span><br><span class="line">    gongan_icon_url:</span><br><span class="line">    </span><br><span class="line"><span class="meta">#</span><span class="bash"> Creative Commons 4.0 International License.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> See: https://creativecommons.org/share-your-work/licensing-types-examples</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Available values of license: by | by-nc | by-nc-nd | by-nc-sa | by-nd | by-sa | zero</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> You can <span class="built_in">set</span> a language value <span class="keyword">if</span> you prefer a translated version of CC license, e.g. deed.zh</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> CC licenses are available <span class="keyword">in</span> 39 languages, you can find the specific and correct abbreviation you need on https://creativecommons.org</span></span><br><span class="line">creative_commons:</span><br><span class="line">  license: by-nc-sa  ## 版权类型</span><br><span class="line">  sidebar: false  ##侧栏显示</span><br><span class="line">  post: true  ##文章底部显示</span><br><span class="line">  language: zh-CN  ## 版权显示语言</span><br></pre></td></tr></table></figure>

<h3 id="主题框架选择设置"><a href="#主题框架选择设置" class="headerlink" title="主题框架选择设置"></a>主题框架选择设置</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Scheme Settings</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Schemes  <span class="comment">## 四种主题选择哪个就把前面的注释删掉，其余保留</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">scheme: Muse</span></span><br><span class="line"><span class="meta">#</span><span class="bash">scheme: Mist</span></span><br><span class="line">scheme: Pisces</span><br><span class="line"><span class="meta">#</span><span class="bash">scheme: Gemini</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Dark Mode  <span class="comment"># 是否选择暗模式</span></span></span><br><span class="line">darkmode: false</span><br></pre></td></tr></table></figure>

<h3 id="菜单设置"><a href="#菜单设置" class="headerlink" title="菜单设置"></a>菜单设置</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Menu Settings</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line">menu:  ## 侧栏显示的可选选项</span><br><span class="line">  home: / || fa fa-home</span><br><span class="line"><span class="meta">  #</span><span class="bash">about: /about/ || fa fa-user</span></span><br><span class="line">  tags: /tags/ || fa fa-tags</span><br><span class="line">  categories: /categories/ || fa fa-th</span><br><span class="line">  archives: /archives/ || fa fa-archive</span><br><span class="line"><span class="meta">  #</span><span class="bash">schedule: /schedule/ || fa fa-calendar</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">sitemap: /sitemap.xml || fa fa-sitemap</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">commonweal: /404/ || fa fa-heartbeat</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Enable / Disable menu icons / item badges.</span></span><br><span class="line">menu_settings:</span><br><span class="line">  icons: true  ## 菜单选项前的图标</span><br><span class="line">  badges: true  ## 对于该选项所含文件数的计数</span><br></pre></td></tr></table></figure>

<h3 id="侧栏设置"><a href="#侧栏设置" class="headerlink" title="侧栏设置"></a>侧栏设置</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Sidebar Settings</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> See: https://theme-next.org/docs/theme-settings/sidebar</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line">sidebar:  ## 位置信息</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Sidebar Position.</span></span><br><span class="line">  position: left</span><br><span class="line"><span class="meta">  #</span><span class="bash">position: right</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> Manual define the sidebar width. If commented, will be default <span class="keyword">for</span>:</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> Muse | Mist: 320</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> Pisces | Gemini: 240</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">width: 300</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> Sidebar Display (only <span class="keyword">for</span> Muse | Mist), available values:</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">  - post    expand on posts automatically. Default.</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">  - always  expand <span class="keyword">for</span> all pages automatically.</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">  - hide    expand only when click on the sidebar toggle icon.</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">  - remove  totally remove sidebar including sidebar toggle.</span></span><br><span class="line">  display: post # post指的是默认的是在文章界面自动展开</span><br><span class="line">                # always在所有的页面都默认展开</span><br><span class="line">                # hide 是在所有的页面都默认隐藏</span><br><span class="line">                # remove 完全移除侧边栏</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> Sidebar padding <span class="keyword">in</span> pixels.</span></span><br><span class="line">  padding: 18  # 侧边栏填充像素大小</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Sidebar offset from top menubar <span class="keyword">in</span> pixels (only <span class="keyword">for</span> Pisces | Gemini).</span></span><br><span class="line">  offset: 12  # 侧边栏距离顶部菜单的距离(单位像素)</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Enable sidebar on narrow view (only <span class="keyword">for</span> Muse | Mist).</span></span><br><span class="line">  onmobile: false  # 在移动设备是否显示菜单栏，仅仅针对 Muse 和 Mist主题有效</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Sidebar Avatar</span></span><br><span class="line">avatar:</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Replace the default image and <span class="built_in">set</span> the url here.</span></span><br><span class="line">  url: /images/header.jpg # 头像图片所在位置themes/next/source/images下</span><br><span class="line"><span class="meta">  #</span><span class="bash"> If <span class="literal">true</span>, the avatar will be dispalyed <span class="keyword">in</span> circle.</span></span><br><span class="line">  rounded: true ## 是否以圆形的方式展示头像</span><br><span class="line"><span class="meta">  #</span><span class="bash"> If <span class="literal">true</span>, the avatar will be rotated with the cursor.</span></span><br><span class="line">  rotated: true  ## 头像是否旋转</span><br><span class="line">  </span><br><span class="line"><span class="meta"> #</span><span class="bash"> Posts / Categories / Tags <span class="keyword">in</span> sidebar.</span></span><br><span class="line">site_state: true  # 是否在头像下方展示日志和目录信息</span><br><span class="line"></span><br><span class="line">social:  # 你要展示的自己的社交账号</span><br><span class="line">  GitHub: https://github.com/zhengxingSong || fab fa-github</span><br><span class="line"><span class="meta">  #</span><span class="bash">E-Mail: mailto:yourname@gmail.com || fa fa-envelope</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">Weibo: https://weibo.com/yourname || fab fa-weibo</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">Google: https://plus.google.com/yourname || fab fa-google</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">Twitter: https://twitter.com/yourname || fab fa-twitter</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">FB Page: https://www.facebook.com/yourname || fab fa-facebook</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">StackOverflow: https://stackoverflow.com/yourname || fab fa-stack-overflow</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">YouTube: https://youtube.com/yourname || fab fa-youtube</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">Instagram: https://instagram.com/yourname || fab fa-instagram</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">Skype: skype:yourname?call|chat || fab fa-skype</span></span><br><span class="line"></span><br><span class="line">social_icons: ## 展示设置</span><br><span class="line">  enable: true # 是否展示图标</span><br><span class="line">  icons_only: false ## 是否只展示图标</span><br><span class="line">  transition: false</span><br><span class="line"><span class="meta">  </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> A button to open designated chat widget <span class="keyword">in</span> sidebar.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Firstly, you need <span class="built_in">enable</span> the chat service you want to activate its sidebar button.</span></span><br><span class="line">chat: # 打开chat服务的按钮，首先你需要激活一个  chat 服务，这里可以不用设置，没有实用价值</span><br><span class="line">  enable: false</span><br><span class="line"><span class="meta">  #</span><span class="bash">service: chatra</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">service: tidio</span></span><br><span class="line">  icon: fa fa-comment # Icon name in Font Awesome, set false to disable icon.</span><br><span class="line">  text: Chat # Button text, change it as you wish.</span><br></pre></td></tr></table></figure>

<h3 id="文章设置"><a href="#文章设置" class="headerlink" title="文章设置"></a>文章设置</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Post Settings</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> See: https://theme-next.org/docs/theme-settings/posts</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Automatically excerpt description <span class="keyword">in</span> homepage as preamble text.</span></span><br><span class="line">excerpt_description: true  # 在主页显示预览文本</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Read more button</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> If <span class="literal">true</span>, the <span class="built_in">read</span> more button will be displayed <span class="keyword">in</span> excerpt section.</span></span><br><span class="line">read_more_btn: true  # 是否显示 阅读更多 按钮</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Post meta display settings</span></span><br><span class="line">post_meta:  # 文章显示设置，这里建议默认</span><br><span class="line">  item_text: true   # 是否显示文章内容</span><br><span class="line">  created_at: true  # 是否显示创建时间</span><br><span class="line">  updated_at:  # 是否显示更新时间</span><br><span class="line">    enable: true</span><br><span class="line">    another_day: true</span><br><span class="line">  categories: true  # 是否显示分类</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Post wordcount display settings</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Dependencies: https://github.com/theme-next/hexo-symbols-count-time</span></span><br><span class="line">symbols_count_time:   # 预计阅读时间和文章字数统计</span><br><span class="line">  separated_meta: true ## 是否设置分隔符</span><br><span class="line">  item_text_post: true  ## 本文总字数和阅读时长</span><br><span class="line">  item_text_total: false  ## 本站总字数和阅读时长</span><br><span class="line"><span class="meta"> </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Use icon instead of the symbol <span class="comment"># to indicate the tag at the bottom of the post</span></span></span><br><span class="line">tag_icon: true  # 文章底部默认的标签是 # 号</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Reward (Donate)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Front-matter variable (unsupport animation).</span></span><br><span class="line">reward_settings:  # 打赏设置</span><br><span class="line"><span class="meta">  #</span><span class="bash"> If <span class="literal">true</span>, reward will be displayed <span class="keyword">in</span> every article by default.</span></span><br><span class="line">  enable: false  # 是否开启打赏服务</span><br><span class="line">  animation: false# 是否添加动画</span><br><span class="line"><span class="meta">  #</span><span class="bash">comment: Donate comment here.</span></span><br><span class="line"></span><br><span class="line">reward: # 此处是贴上自己的收款码，收款码放置在 images 目录下，然后在此处修改地址</span><br><span class="line"><span class="meta">  #</span><span class="bash">wechatpay: /images/wechatpay.png</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">alipay: /images/alipay.png</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">paypal: /images/paypal.png</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">bitcoin: /images/bitcoin.png</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Subscribe through Telegram Channel, Twitter, etc.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Usage: `Key: permalink || icon` (Font Awesome)</span></span><br><span class="line">follow_me:  # 是否开启相关文章推荐</span><br><span class="line"><span class="meta">  #</span><span class="bash">Twitter: https://twitter.com/username || fab fa-twitter</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">Telegram: https://t.me/channel_name || fab fa-telegram</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">WeChat: /images/wechat_channel.jpg || fab fa-weixin</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">RSS: /atom.xml || fa fa-rss</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Related popular posts</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Dependencies: https://github.com/tea3/hexo-related-popular-posts</span></span><br><span class="line">related_posts:  #相关的文章的推送</span><br><span class="line">  enable: false</span><br><span class="line">  title: # Custom header, leave empty to use the default one</span><br><span class="line">  display_in_home: false</span><br><span class="line">  params:</span><br><span class="line">    maxCount: 5</span><br><span class="line">    #PPMixingRate: 0.0</span><br><span class="line">    #isDate: false</span><br><span class="line">    #isImage: false</span><br><span class="line">    #isExcerpt: false</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Post edit</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Dependencies: https://github.com/hexojs/hexo-deployer-git</span></span><br><span class="line">post_edit:</span><br><span class="line">  enable: false</span><br><span class="line">  url: https://github.com/user-name/repo-name/tree/branch-name/subdirectory-name # Link for view source</span><br><span class="line"><span class="meta">  #</span><span class="bash">url: https://github.com/user-name/repo-name/edit/branch-name/subdirectory-name <span class="comment"># Link for fork &amp; edit</span></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Show previous post and next post <span class="keyword">in</span> post footer <span class="keyword">if</span> exists</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Available values: left | right | <span class="literal">false</span></span></span><br><span class="line">post_navigation: left  #上一篇/下一篇文章导航，选择项有 left/right/false</span><br></pre></td></tr></table></figure>

<h3 id="用户界面设置"><a href="#用户界面设置" class="headerlink" title="用户界面设置"></a>用户界面设置</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Custom Page Settings</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> See: https://theme-next.org/docs/theme-settings/custom-pages</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> TagCloud settings <span class="keyword">for</span> tags page.</span></span><br><span class="line">tagcloud: # 标签云界面</span><br><span class="line"><span class="meta">  #</span><span class="bash"> All values below are same as default, change them by yourself.</span></span><br><span class="line">  min: 12 # Minimun font size in px</span><br><span class="line">  max: 30 # Maxium font size in px</span><br><span class="line">  start: &quot;#ccc&quot; # Start color (hex, rgba, hsla or color keywords)</span><br><span class="line">  end: &quot;#111&quot; # End color (hex, rgba, hsla or color keywords)</span><br><span class="line">  amount: 200 # Amount of tags, change it if you have more than 200 tags</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Google Calendar</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Share your recent schedule to others via calendar page.</span></span><br><span class="line">calendar: # 日程表界面</span><br><span class="line">  calendar_id: &lt;required&gt; # Your Google account E-Mail</span><br><span class="line">  api_key: &lt;required&gt;</span><br><span class="line">  orderBy: startTime</span><br><span class="line">  offsetMax: 24 # Time Range</span><br><span class="line">  offsetMin: 4 # Time Range</span><br><span class="line">  showDeleted: false</span><br><span class="line">  singleEvents: true</span><br><span class="line">  maxResults: 250</span><br></pre></td></tr></table></figure>

<h3 id="主题框架设置"><a href="#主题框架设置" class="headerlink" title="主题框架设置"></a>主题框架设置</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Misc Theme Settings</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Set the text alignment <span class="keyword">in</span> posts / pages.</span></span><br><span class="line">text_align:  # 文本对齐方式，默认居中 justify 即可</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Available values: start | end | left | right | center | justify | justify-all | match-parent</span></span><br><span class="line">  desktop: justify</span><br><span class="line">  mobile: justify</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Reduce padding / margin indents on devices with narrow width.</span></span><br><span class="line">mobile_layout_economy: false   # 移动端是否窄化布局，默认即可</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Android Chrome header panel color (<span class="variable">$brand</span>-<span class="built_in">bg</span> / <span class="variable">$headband</span>-<span class="built_in">bg</span> =&gt; <span class="variable">$black</span>-deep).</span></span><br><span class="line">android_chrome_color: &quot;#222&quot;   # 安卓chrome浏览器颜色，默认即可</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Custom Logo (Do not support scheme Mist)</span></span><br><span class="line">custom_logo: #/uploads/custom-logo.jpg  # 用户 logo ，默认即可</span><br><span class="line"></span><br><span class="line">codeblock:  # 代码块设置</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Code Highlight theme</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> Available values: normal | night | night eighties | night blue | night bright | solarized | solarized dark | galactic</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> See: https://github.com/chriskempson/tomorrow-theme</span></span><br><span class="line">  highlight_theme: normal  # 代码高亮主题</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Add copy button on codeblock</span></span><br><span class="line">  copy_button:  # 代码块中的复制按钮</span><br><span class="line">    enable: false</span><br><span class="line">    # Show text copy result.</span><br><span class="line"><span class="meta">		#</span><span class="bash"> Show text copy result.</span></span><br><span class="line">    show_result: false   # 是否显示复制成功/复制失败信息</span><br><span class="line">    # Available values: default | flat | mac</span><br><span class="line">    style:  # 代码块的风格，默认为normal</span><br><span class="line">back2top: # 返回页面顶部按钮</span><br><span class="line">  enable: true</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Back to top <span class="keyword">in</span> sidebar.</span></span><br><span class="line">  sidebar: false</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Scroll percent label <span class="keyword">in</span> b2t button.</span></span><br><span class="line">  scrollpercent: false  # 显示滚动的百分比</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Reading progress bar</span></span><br><span class="line">reading_progress:   # 阅读进度条</span><br><span class="line">  enable: true</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Available values: top | bottom</span></span><br><span class="line">  position: top</span><br><span class="line">  color: &quot;#37c6c0&quot;</span><br><span class="line">  height: 3px</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Bookmark Support</span></span><br><span class="line">bookmark: # 书签，如果开启，则下一次使用的时候就会从你上次浏览的地方显示</span><br><span class="line">  enable: true</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Customize the color of the bookmark.</span></span><br><span class="line">  color: &quot;#222&quot;</span><br><span class="line"><span class="meta">  #</span><span class="bash"> If auto, save the reading progress when closing the page or clicking the bookmark-icon.</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> If manual, only save it by clicking the bookmark-icon.</span></span><br><span class="line">  save: auto</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> `Follow me on GitHub` banner <span class="keyword">in</span> the top-right corner.</span></span><br><span class="line">github_banner:   # 在右上角的 github 图标处，点击进入自己的github账户</span><br><span class="line">  enable: true</span><br><span class="line">  permalink: https://github.com/yourname. ## 要修改其链接</span><br><span class="line">  title: Follow me on GitHub</span><br><span class="line">  </span><br></pre></td></tr></table></figure>

<h3 id="字体设置部分"><a href="#字体设置部分" class="headerlink" title="字体设置部分"></a>字体设置部分</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Font Settings</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> See: https://theme-next.org/docs/theme-settings/<span class="comment">#Fonts-Customization</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Find fonts on Google Fonts (https://www.google.com/fonts)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> All fonts <span class="built_in">set</span> here will have the following styles:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   light | light italic | normal | normal italic | bold | bold italic</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Be aware that setting too much fonts will cause site running slowly</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> To avoid space between header and sidebar <span class="keyword">in</span> scheme Pisces / Gemini, Web Safe fonts are recommended <span class="keyword">for</span> `global` (and `title`):</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Arial | Tahoma | Helvetica | Times New Roman | Courier New | Verdana | Georgia | Palatino | Garamond | Comic Sans MS | Trebuchet MS</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">font:	# 这一部分是字体设置，如果字体是false，即表示不适用外部字体，使用的是 next 主题默认字体</span><br><span class="line">      # 如果对默认字体感到不合适，可以修改，选择自己找到的字体库，添加链接就可,但是要确保能够访问，</span><br><span class="line">      # 比如谷歌字体库在大陆就无法访问，即使你使用科学上网可以获得资源，但是不能保证你的访问用户能够顺利看到，</span><br><span class="line">      # 关于字体的详细设置请看下面的字体设置篇</span><br><span class="line">  enable: false</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> Uri of fonts host, e.g. https://fonts.googleapis.com (Default).</span></span><br><span class="line">  host:</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> Font options:</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> `external: <span class="literal">true</span>` will load this font family from `host` above.</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> `family: Times New Roman`. Without any quotes.</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> `size: x.x`. Use `em` as unit. Default: 1 (16px)</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> Global font settings used <span class="keyword">for</span> all elements inside &lt;body&gt;.</span></span><br><span class="line">  global:</span><br><span class="line">    external: true</span><br><span class="line">    family: Lato</span><br><span class="line">    size:</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> Font settings <span class="keyword">for</span> site title (.site-title).</span></span><br><span class="line">  title:</span><br><span class="line">    external: true</span><br><span class="line">    family:</span><br><span class="line">    size:</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> Font settings <span class="keyword">for</span> headlines (&lt;h1&gt; to &lt;h6&gt;).</span></span><br><span class="line">  headings:</span><br><span class="line">    external: true</span><br><span class="line">    family:</span><br><span class="line">    size:</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> Font settings <span class="keyword">for</span> posts (.post-body).</span></span><br><span class="line">  posts:</span><br><span class="line">    external: true</span><br><span class="line">    family:</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> Font settings <span class="keyword">for</span> &lt;code&gt; and code blocks.</span></span><br><span class="line">  codes:</span><br><span class="line">    external: true</span><br><span class="line">    family:</span><br></pre></td></tr></table></figure>

<h3 id="SEO设置"><a href="#SEO设置" class="headerlink" title="SEO设置"></a>SEO设置</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> SEO Settings</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Disable Baidu transformation on mobile devices.</span></span><br><span class="line">disable_baidu_transformation: false  ## 是否让百度生成百度快照</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> If <span class="literal">true</span>, site-subtitle will be added to index page.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Remember to <span class="built_in">set</span> up your site-subtitle <span class="keyword">in</span> Hexo `_config.yml` (e.g. subtitle: Subtitle)</span></span><br><span class="line">index_with_subtitle: false ## 是否把副标题加入index中</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Automatically add external URL with Base64 encrypt &amp; decrypt.</span></span><br><span class="line">exturl: false</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Google Webmaster tools verification.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> See: https://www.google.com/webmasters</span></span><br><span class="line">google_site_verification:</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Bing Webmaster tools verification.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> See: https://www.bing.com/webmaster</span></span><br><span class="line">bing_site_verification:</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Yandex Webmaster tools verification.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> See: https://webmaster.yandex.ru</span></span><br><span class="line">yandex_site_verification:</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Baidu Webmaster tools verification.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> See: https://ziyuan.baidu.com/site</span></span><br><span class="line">baidu_site_verification:  ## 百度站长验证</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Enable baidu push so that the blog will push the url to baidu automatically <span class="built_in">which</span> is very helpful <span class="keyword">for</span> SEO.</span></span><br><span class="line">baidu_push: false  ## 是否推送到百度让其搜索</span><br></pre></td></tr></table></figure>

<h3 id="评论功能"><a href="#评论功能" class="headerlink" title="评论功能"></a>评论功能</h3><p>此处不做详细赘述，如果感兴趣可以去搜索相关文章进行设置</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Comments Settings</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> See: https://theme-next.org/docs/third-party-services/comments</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> next 主题支持几个评论插件 disqus | disqusjs |gitalk | livere | changyan(china) | valine(china) |</span> </span><br><span class="line"><span class="meta">#</span><span class="bash"> 而且同时支持多个评论系统</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Multiple Comment System Support</span></span><br><span class="line">comments:</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Available values: tabs | buttons</span></span><br><span class="line">  style: tabs</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Choose a comment system to be displayed by default.</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> Available values: changyan | disqus | disqusjs | gitalk | livere | valine</span></span><br><span class="line">  active:</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Setting `<span class="literal">true</span>` means remembering the comment system selected by the visitor.</span></span><br><span class="line">  storage: true</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Lazyload all comment systems.</span></span><br><span class="line">  lazyload: false</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Modify texts or order <span class="keyword">for</span> any navs, here are some examples.</span></span><br><span class="line">  nav:</span><br><span class="line">    #disqus:</span><br><span class="line">    #  text: Load Disqus</span><br><span class="line">    #  order: -1</span><br><span class="line">    #gitalk:</span><br><span class="line">    #  order: -2</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Disqus</span></span><br><span class="line">disqus:</span><br><span class="line">  enable: false</span><br><span class="line">  shortname:</span><br><span class="line">  count: true</span><br><span class="line"><span class="meta">  #</span><span class="bash">post_meta_order: 0</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> DisqusJS</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Alternative Disqus - Render comment component using Disqus API.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Demo: https://suka.js.org/DisqusJS/</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> For more information: https://github.com/SukkaW/DisqusJS</span></span><br><span class="line">disqusjs:</span><br><span class="line">  enable: false</span><br><span class="line"><span class="meta">  #</span><span class="bash"> API Endpoint of Disqus API (https://disqus.com/api/).</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> Leave api empty <span class="keyword">if</span> you are able to connect to Disqus API. Otherwise you need a reverse proxy <span class="keyword">for</span> it.</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> For example:</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> api: https://disqus.skk.moe/disqus/</span></span><br><span class="line">  api:</span><br><span class="line">  apikey: # Register new application from https://disqus.com/api/applications/</span><br><span class="line">  shortname: # See: https://disqus.com/admin/settings/general/</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Changyan</span></span><br><span class="line">changyan:</span><br><span class="line">  enable: false</span><br><span class="line">  appid:</span><br><span class="line">  appkey:</span><br><span class="line"><span class="meta">  #</span><span class="bash">post_meta_order: 0</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Valine</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> For more information: https://valine.js.org, https://github.com/xCss/Valine</span></span><br><span class="line">valine:</span><br><span class="line">  enable: false</span><br><span class="line">  appid: # Your leancloud application appid</span><br><span class="line">    appkey: # Your leancloud application appkey</span><br><span class="line">  notify: false # Mail notifier</span><br><span class="line">  verify: false # Verification code</span><br><span class="line">  placeholder: Just go go # Comment box placeholder</span><br><span class="line">  avatar: mm # Gravatar style</span><br><span class="line">  guest_info: nick,mail,link # Custom comment header</span><br><span class="line">  pageSize: 10 # Pagination size</span><br><span class="line">  language: # Language, available values: en, zh-cn</span><br><span class="line">  visitor: false # Article reading statistic</span><br><span class="line">  comment_count: true # If false, comment count will only be displayed in post page, not in home page</span><br><span class="line">  recordIP: false # Whether to record the commenter IP</span><br><span class="line">  serverURLs: # When the custom domain name is enabled, fill it in here (it will be detected automatically by default, no need to fill in)</span><br><span class="line"><span class="meta">  #</span><span class="bash">post_meta_order: 0</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> LiveRe comments system</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> You can get your uid from https://livere.com/insight/myCode (General web site)</span></span><br><span class="line">livere_uid: # &lt;your_uid&gt;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Gitalk</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> For more information: https://gitalk.github.io, https://github.com/gitalk/gitalk</span></span><br><span class="line">gitalk:</span><br><span class="line">  enable: false</span><br><span class="line">  github_id: # GitHub repo owner</span><br><span class="line">  repo: # Repository name to store issues</span><br><span class="line">  client_id: # GitHub Application Client ID</span><br><span class="line">  client_secret: # GitHub Application Client Secret</span><br><span class="line">  admin_user: # GitHub repo owner and collaborators, only these guys can initialize gitHub issues</span><br><span class="line">  distraction_free_mode: true # Facebook-like distraction free mode</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Gitalk<span class="string">&#x27;s display language depends on user&#x27;</span>s browser or system environment</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> If you want everyone visiting your site to see a uniform language, you can <span class="built_in">set</span> a force language value</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> Available values: en | es-ES | fr | ru | zh-CN | zh-TW</span></span><br><span class="line">  language:</span><br></pre></td></tr></table></figure>

<h3 id="文章评价功能"><a href="#文章评价功能" class="headerlink" title="文章评价功能"></a>文章评价功能</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Post Widgets &amp; Content Sharing Services</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> See: https://theme-next.org/docs/third-party-services/post-widgets</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> next 主题支持两个评估系统： Widgetpack Rating 和 AddThis</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Star rating support to each article.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> To get your ID visit https://widgetpack.com</span></span><br><span class="line">rating: # rating 插件设置</span><br><span class="line">  enable: false</span><br><span class="line">  id:     # &lt;app_id&gt;</span><br><span class="line">  color:  fc6423</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> AddThis Share. See: https://www.addthis.com</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Go to https://www.addthis.com/dashboard to customize your tools.</span></span><br><span class="line">add_this_id: # AddThis 插件设置</span><br></pre></td></tr></table></figure>

<h3 id="文章统计和分析功能"><a href="#文章统计和分析功能" class="headerlink" title="文章统计和分析功能"></a>文章统计和分析功能</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Statistics and Analytics</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> See: https://theme-next.org/docs/third-party-services/statistics-and-analytics</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 主要为busuanzi，可以统计网站来访人数</span></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Google Analytics</span></span><br><span class="line">google_analytics:</span><br><span class="line">  tracking_id: # &lt;app_id&gt;</span><br><span class="line"><span class="meta">  #</span><span class="bash"> By default, NexT will load an external gtag.js script on your site.</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> If you only need the pageview feature, <span class="built_in">set</span> the following option to <span class="literal">true</span> to get a better performance.</span></span><br><span class="line">  only_pageview: false</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Baidu Analytics</span></span><br><span class="line">baidu_analytics: # &lt;app_id&gt;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Growingio Analytics</span></span><br><span class="line">growingio_analytics: # &lt;project_id&gt;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> CNZZ count</span></span><br><span class="line">cnzz_siteid:</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Show number of visitors of each article.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> You can visit https://leancloud.cn to get AppID and AppKey.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> AppID and AppKey are recommended to be the same as valine<span class="string">&#x27;s for counter compatibility.</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="string"> Do not enable both `valine.visitor` and `leancloud_visitors`.</span></span></span><br><span class="line">leancloud_visitors:</span><br><span class="line">  enable: false</span><br><span class="line">  app_id: # &lt;your app id&gt;</span><br><span class="line">  app_key: # &lt;your app key&gt;</span><br><span class="line"><span class="meta">  #</span><span class="bash"><span class="string"> Required for apps from CN region</span></span></span><br><span class="line">  server_url: # &lt;your server url&gt;</span><br><span class="line"><span class="meta">  #</span><span class="bash"><span class="string"> Dependencies: https://github.com/theme-next/hexo-leancloud-counter-security</span></span></span><br><span class="line"><span class="meta">  #</span><span class="bash"><span class="string"> If you don&#x27;</span>t care about security <span class="keyword">in</span> leancloud counter and just want to use it directly</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> (without hexo-leancloud-counter-security plugin), <span class="built_in">set</span> `security` to `<span class="literal">false</span>`.</span></span><br><span class="line">  security: true</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Another tool to show number of visitors to each article.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Visit https://console.firebase.google.com/u/0/ to get apiKey and projectId.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Visit https://firebase.google.com/docs/firestore/ to get more information about firestore.</span></span><br><span class="line">firestore:</span><br><span class="line">  enable: false</span><br><span class="line">  collection: articles # Required, a string collection name to access firestore database</span><br><span class="line">  apiKey: # Required</span><br><span class="line">  projectId: # Required</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Show Views / Visitors of the website / page with busuanzi.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Get more information on http://ibruce.info/2015/04/04/busuanzi</span></span><br><span class="line">busuanzi_count:</span><br><span class="line">  enable: true</span><br><span class="line">  total_visitors: true</span><br><span class="line">  total_visitors_icon: fa fa-user</span><br><span class="line">  total_views: true</span><br><span class="line">  total_views_icon: fa fa-eye</span><br><span class="line">  post_views: true</span><br><span class="line">  post_views_icon: fa fa-eye</span><br></pre></td></tr></table></figure>

<h3 id="站内搜索功能"><a href="#站内搜索功能" class="headerlink" title="站内搜索功能"></a>站内搜索功能</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Search Services</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> See: https://theme-next.org/docs/third-party-services/search-services</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> next 主题支持两种站内搜索插件 algolia_search 和 local_search(比较常用);</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Algolia Search</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> For more information: https://www.algolia.com</span></span><br><span class="line">algolia_search:</span><br><span class="line">  enable: false</span><br><span class="line">  hits:</span><br><span class="line">    per_page: 10</span><br><span class="line">  labels:</span><br><span class="line">    input_placeholder: Search for Posts</span><br><span class="line">    hits_empty: &quot;We didn&#x27;t find any results for the search: $&#123;query&#125;&quot;</span><br><span class="line">    hits_stats: &quot;$&#123;hits&#125; results found in $&#123;time&#125; ms&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Local Search</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Dependencies: https://github.com/theme-next/hexo-generator-searchdb</span></span><br><span class="line">local_search:</span><br><span class="line">  enable: false</span><br><span class="line"><span class="meta">  #</span><span class="bash"> If auto, trigger search by changing input.</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> If manual, trigger search by pressing enter key or search button.</span></span><br><span class="line">  trigger: auto</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Show top n results per article, show all results by setting to -1</span></span><br><span class="line">  top_n_per_article: 1</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Unescape html strings to the readable one.</span></span><br><span class="line">  unescape: false</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Preload the search data when the page loads.</span></span><br><span class="line">  preload: false</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Swiftype Search API Key</span></span><br><span class="line">swiftype_key:</span><br></pre></td></tr></table></figure>

<h3 id="即时聊天功能"><a href="#即时聊天功能" class="headerlink" title="即时聊天功能"></a>即时聊天功能</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Chat Services</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> See: https://theme-next.org/docs/third-party-services/chat-services</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> next 主题支持在线聊天服务，支持两个插件 charta 和 tidioA,</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Chatra Support</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> See: https://chatra.io</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Dashboard: https://app.chatra.io/settings/general</span></span><br><span class="line">chatra:</span><br><span class="line">  enable: false</span><br><span class="line">  async: true</span><br><span class="line">  id: # Visit Dashboard to get your ChatraID</span><br><span class="line"><span class="meta">  #</span><span class="bash">embed: <span class="comment"># Unfinished experimental feature for developers. See: https://chatra.io/help/api/#injectto</span></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Tidio Support</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> See: https://www.tidiochat.com</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Dashboard: https://www.tidiochat.com/panel/dashboard</span></span><br><span class="line">tidio:</span><br><span class="line">  enable: false</span><br><span class="line">  key: # Public Key, get it from dashboard. See: https://www.tidiochat.com/panel/settings/developer</span><br></pre></td></tr></table></figure>

<h3 id="标签设置"><a href="#标签设置" class="headerlink" title="标签设置"></a>标签设置</h3><p>具体参考：<a href="https://hexo.io/zh-cn/docs/tag-plugins">https://hexo.io/zh-cn/docs/tag-plugins</a></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Tags Settings</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> See: https://theme-next.org/docs/tag-plugins/</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Note tag (bs-callout)</span></span><br><span class="line">note:</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Note tag style values:</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">  - simple    bs-callout old alert style. Default.</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">  - modern    bs-callout new (v2-v3) alert style.</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">  - disabled  <span class="built_in">disable</span> all CSS styles import of note tag.</span></span><br><span class="line">  style: simple</span><br><span class="line">  icons: false</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Offset lighter of background <span class="keyword">in</span> % <span class="keyword">for</span> modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> Offset also applied to label tag variables. This option can work with disabled note tag.</span></span><br><span class="line">  light_bg_offset: 0</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Tabs tag</span></span><br><span class="line">tabs:</span><br><span class="line">  transition:</span><br><span class="line">    tabs: false</span><br><span class="line">    labels: true</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> PDF tag</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> NexT will try to load pdf files natively, <span class="keyword">if</span> failed, pdf.js will be used.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> So, you have to install the dependency of pdf.js <span class="keyword">if</span> you want to use pdf tag and make it available to all browsers.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> See: https://github.com/theme-next/theme-next-pdf</span></span><br><span class="line">pdf:</span><br><span class="line">  enable: false</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Default height</span></span><br><span class="line">  height: 500px</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Mermaid tag</span></span><br><span class="line">mermaid:</span><br><span class="line">  enable: false</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Available themes: default | dark | forest | neutral</span></span><br><span class="line">  theme: forest	</span><br></pre></td></tr></table></figure>

<h3 id="动画设置"><a href="#动画设置" class="headerlink" title="动画设置"></a>动画设置</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Animation Settings</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------------</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Use velocity to animate everything.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> For more information: http://velocityjs.org</span></span><br><span class="line">motion:</span><br><span class="line">  enable: true</span><br><span class="line">  async: false</span><br><span class="line">  transition:</span><br><span class="line">    # Transition variants:</span><br><span class="line">    # fadeIn | flipXIn | flipYIn | flipBounceXIn | flipBounceYIn</span><br><span class="line">    # swoopIn | whirlIn | shrinkIn | expandIn</span><br><span class="line">    # bounceIn | bounceUpIn | bounceDownIn | bounceLeftIn | bounceRightIn</span><br><span class="line">    # slideUpIn | slideDownIn | slideLeftIn | slideRightIn</span><br><span class="line">    # slideUpBigIn | slideDownBigIn | slideLeftBigIn | slideRightBigIn</span><br><span class="line">    # perspectiveUpIn | perspectiveDownIn | perspectiveLeftIn | perspectiveRightIn</span><br><span class="line">    post_block: fadeIn</span><br><span class="line">    post_header: slideDownIn</span><br><span class="line">    post_body: slideDownIn</span><br><span class="line">    coll_header: slideLeftIn</span><br><span class="line">    # Only for Pisces | Gemini.</span><br><span class="line">    sidebar: slideUpIn</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Progress bar <span class="keyword">in</span> the top during page loading.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Dependencies: https://github.com/theme-next/theme-next-pace</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> For more information: https://github.com/HubSpot/pace</span></span><br><span class="line">pace:</span><br><span class="line">  enable: false</span><br><span class="line"><span class="meta">  #</span><span class="bash"> Themes list:</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> big-counter | bounce | barber-shop | center-atom | center-circle | center-radar | center-simple</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> corner-indicator | fill-left | flat-top | flash | loading-bar | mac-osx | material | minimal</span></span><br><span class="line">  theme: minimal</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> JavaScript 3D library.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Dependencies: https://github.com/theme-next/theme-next-three</span></span><br><span class="line">three:</span><br><span class="line">  enable: true</span><br><span class="line">  three_waves: true</span><br><span class="line">  canvas_lines: false</span><br><span class="line">  canvas_sphere: false</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Canvas-ribbon</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Dependencies: https://github.com/theme-next/theme-next-canvas-ribbon</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> For more information: https://github.com/zproo/canvas-ribbon</span></span><br><span class="line">canvas_ribbon:</span><br><span class="line">  enable: false</span><br><span class="line">  size: 300 # The width of the ribbon</span><br><span class="line">  alpha: 0.6 # The transparency of the ribbon</span><br><span class="line">  zIndex: -1 # The display level of the ribbon</span><br></pre></td></tr></table></figure>

<p>参考资料：<a href="https://www.icode9.com/content-4-624876.html">https://www.icode9.com/content-4-624876.html</a></p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo基础</title>
    <url>/Hexo/Hexo%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<h1 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h1><p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 <a href="http://daringfireball.net/projects/markdown/">Markdown</a>（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p>
<p>官方中文文档：<a href="https://hexo.io/zh-cn/docs/">https://hexo.io/zh-cn/docs/</a></p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>安装 Hexo 相当简单，只需要先安装下列应用程序即可：</p>
<ul>
<li>Nodejs</li>
<li>Git</li>
</ul>
<h3 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>

<h2 id="建站"><a href="#建站" class="headerlink" title="建站"></a>建站</h2><p>先建立自己的博客所在文件夹&lt;folder&gt;：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo init &lt;folder&gt;</span><br><span class="line">cd &lt;folder&gt;</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure>

<p>新建完成后，指定文件夹的目录如下：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">├── _config.yml  # 站点配置文件</span><br><span class="line">├── package.json</span><br><span class="line">├── scaffolds</span><br><span class="line">├── source</span><br><span class="line">|   ├── _drafts</span><br><span class="line">|   └── _posts</span><br><span class="line">└── themes</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>_config.yml</strong></li>
</ul>
<p>主目录下的_config.yml文件为站点配置文件，而theme主题下的_config.yml为主题配置文件</p>
<ul>
<li><strong>package.json</strong></li>
</ul>
<p>应用程序的信息。<a href="https://ejs.co/">EJS</a>, <a href="http://learnboost.github.io/stylus/">Stylus</a> 和 <a href="http://daringfireball.net/projects/markdown/">Markdown</a> renderer 已默认安装，您可以自由移除。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">package.json</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;hexo-site&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;0.0.0&quot;,</span><br><span class="line">  &quot;private&quot;: true,</span><br><span class="line">  &quot;hexo&quot;: &#123;</span><br><span class="line">    &quot;version&quot;: &quot;&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;hexo&quot;: &quot;^3.8.0&quot;,</span><br><span class="line">    &quot;hexo-generator-archive&quot;: &quot;^0.1.5&quot;,</span><br><span class="line">    &quot;hexo-generator-category&quot;: &quot;^0.1.3&quot;,</span><br><span class="line">    &quot;hexo-generator-index&quot;: &quot;^0.2.1&quot;,</span><br><span class="line">    &quot;hexo-generator-tag&quot;: &quot;^0.2.0&quot;,</span><br><span class="line">    &quot;hexo-renderer-ejs&quot;: &quot;^0.3.1&quot;,</span><br><span class="line">    &quot;hexo-renderer-stylus&quot;: &quot;^0.3.3&quot;,</span><br><span class="line">    &quot;hexo-renderer-marked&quot;: &quot;^0.3.2&quot;,</span><br><span class="line">    &quot;hexo-server&quot;: &quot;^0.3.3&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>scaffolds</strong></li>
</ul>
<p><a href="https://hexo.io/zh-cn/docs/writing">模版</a> 文件夹。当您新建文章时，Hexo 会根据 scaffold 来建立文件。</p>
<p>Hexo的模板是指在新建的文章文件中默认填充的内容。例如，如果您修改scaffold/post.md中的Front-matter内容，那么每次新建一篇文章时都会包含这个修改。</p>
<p>这个目录很重要，新建的文章都是在保存在这个目录下的，有两个子目录：<code>_drafts</code>，<code>_posts</code>。需要新建的博文都放在<code>_posts</code>目录下。  </p>
<p><code>_posts</code>目录下是一个个<code>markdown</code>文件。你应该可以看到一个<code>hello-world.md</code>的文件，文章就在这个文件中编辑。  </p>
<p><code>_posts</code>目录下的md文件，会被编译成html文件，放到<code>public</code>（此文件现在应该没有，因为你还没有编译过）文件夹下。</p>
<p>包含以下三个文件：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">draft.md  page.md  post.md</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>source</strong></li>
</ul>
<p>资源文件夹是存放用户资源的地方。除 <code>_posts</code> 文件夹之外，开头命名为 <code>_</code> (下划线)的文件 / 文件夹和隐藏的文件将会被忽略。Markdown 和 HTML 文件会被解析并放到 <code>public</code> 文件夹，而其他文件会被拷贝过去。</p>
<ul>
<li><strong>themes</strong></li>
</ul>
<p>主题文件夹。Hexo 会根据主题来生成静态页面。</p>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>可以在 <code>_config.yml</code> 中修改大部分的配置。</p>
<h3 id="网站"><a href="#网站" class="headerlink" title="网站"></a>网站</h3><p>网站配置:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Site</span></span><br><span class="line">title: 阿狒的博客</span><br><span class="line">subtitle: &#x27;&#x27;</span><br><span class="line">description: 热爱生活的人必定不会被生活所抛弃</span><br><span class="line">keywords: 独行者</span><br><span class="line">author: SZX</span><br><span class="line">language: zh-CN</span><br><span class="line">timezone: Asia/Shanghai</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>title</code></td>
<td>网站标题</td>
</tr>
<tr>
<td><code>subtitle</code></td>
<td>网站副标题</td>
</tr>
<tr>
<td><code>description</code></td>
<td>网站描述</td>
</tr>
<tr>
<td><code>keywords</code></td>
<td>网站的关键词。支持多个关键词。</td>
</tr>
<tr>
<td><code>author</code></td>
<td>您的名字</td>
</tr>
<tr>
<td><code>language</code></td>
<td>网站使用的语言。对于简体中文用户来说，使用不同的主题可能需要设置成不同的值，请参考你的主题的文档自行设置，常见的有 <code>zh-Hans</code>和 <code>zh-CN</code>。</td>
</tr>
<tr>
<td><code>timezone</code></td>
<td>网站时区。Hexo 默认使用您电脑的时区。请参考 <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">时区列表</a> 进行设置，如 <code>America/New_York</code>, <code>Japan</code>, 和 <code>UTC</code> 。一般的，对于中国大陆地区可以使用 <code>Asia/Shanghai</code>。</td>
</tr>
</tbody></table>
<p>其中，<code>description</code>主要用于SEO，告诉搜索引擎一个关于您站点的简单描述，通常建议在其中包含您网站的关键词。<code>author</code>参数用于主题显示文章的作者。</p>
<h3 id="网址"><a href="#网址" class="headerlink" title="网址"></a>网址</h3><p>网址配置：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> URL</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># Set your site url here. For example, if you use GitHub Page, set url as &#x27;https://username.github.io/project&#x27;</span></span></span><br><span class="line">url: http://example.com</span><br><span class="line">permalink: :year/:month/:day/:title/</span><br><span class="line">permalink_defaults:</span><br><span class="line">pretty_urls:</span><br><span class="line">  trailing_index: true # Set to false to remove trailing &#x27;index.html&#x27; from permalinks</span><br><span class="line">  trailing_html: true # Set to false to remove trailing &#x27;.html&#x27; from permalinks</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td><code>url</code></td>
<td>网址, 必须以 <code>http://</code> 或 <code>https://</code> 开头</td>
<td></td>
</tr>
<tr>
<td><code>root</code></td>
<td>网站根目录</td>
<td><code>url&#39;s pathname</code></td>
</tr>
<tr>
<td><code>permalink</code></td>
<td>文章的 <a href="https://hexo.io/zh-cn/docs/permalinks">永久链接</a> 格式</td>
<td><code>:year/:month/:day/:title/</code></td>
</tr>
<tr>
<td><code>permalink_defaults</code></td>
<td>永久链接中各部分的默认值</td>
<td></td>
</tr>
<tr>
<td><code>pretty_urls</code></td>
<td>改写 <a href="https://hexo.io/zh-cn/docs/variables"><code>permalink</code></a> 的值来美化 URL</td>
<td></td>
</tr>
<tr>
<td><code>pretty_urls.trailing_index</code></td>
<td>是否在永久链接中保留尾部的 <code>index.html</code>，设置为 <code>false</code> 时去除</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>pretty_urls.trailing_html</code></td>
<td>是否在永久链接中保留尾部的 <code>.html</code>, 设置为 <code>false</code> 时去除 (<em>对尾部的 <code>index.html</code>无效</em>)</td>
<td><code>true</code></td>
</tr>
</tbody></table>
<h3 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h3><p>目录配置：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Directory</span></span><br><span class="line">source_dir: source</span><br><span class="line">public_dir: public</span><br><span class="line">tag_dir: tags</span><br><span class="line">archive_dir: archives</span><br><span class="line">category_dir: categories</span><br><span class="line">code_dir: downloads/code</span><br><span class="line">i18n_dir: :lang</span><br><span class="line">skip_render:</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td><code>source_dir</code></td>
<td>资源文件夹，这个文件夹用来存放内容。</td>
<td><code>source</code></td>
</tr>
<tr>
<td><code>public_dir</code></td>
<td>公共文件夹，这个文件夹用于存放生成的站点文件。</td>
<td><code>public</code></td>
</tr>
<tr>
<td><code>tag_dir</code></td>
<td>标签文件夹</td>
<td><code>tags</code></td>
</tr>
<tr>
<td><code>archive_dir</code></td>
<td>归档文件夹</td>
<td><code>archives</code></td>
</tr>
<tr>
<td><code>category_dir</code></td>
<td>分类文件夹</td>
<td><code>categories</code></td>
</tr>
<tr>
<td><code>code_dir</code></td>
<td>Include code 文件夹，<code>source_dir</code> 下的子目录</td>
<td><code>downloads/code</code></td>
</tr>
<tr>
<td><code>i18n_dir</code></td>
<td>国际化（i18n）文件夹</td>
<td><code>:lang</code></td>
</tr>
<tr>
<td><code>skip_render</code></td>
<td>跳过指定文件的渲染。匹配到的文件将会被不做改动地复制到 <code>public</code> 目录中。您可使用 <a href="https://github.com/micromatch/micromatch#extended-globbing">glob 表达式</a>来匹配路径。</td>
<td></td>
</tr>
</tbody></table>
<h3 id="文章"><a href="#文章" class="headerlink" title="文章"></a>文章</h3><p>文章配置：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Writing</span></span><br><span class="line">new_post_name: :title.md # File name of new posts</span><br><span class="line">default_layout: post</span><br><span class="line">titlecase: false # Transform title into titlecase</span><br><span class="line">external_link:</span><br><span class="line">  enable: true # Open external links in new tab</span><br><span class="line">  field: site # Apply to the whole site</span><br><span class="line">  exclude: &#x27;&#x27;</span><br><span class="line">filename_case: 0</span><br><span class="line">render_drafts: false</span><br><span class="line">post_asset_folder: false</span><br><span class="line">relative_link: false</span><br><span class="line">future: true</span><br><span class="line">highlight:</span><br><span class="line">  enable: true</span><br><span class="line">  line_number: true</span><br><span class="line">  auto_detect: false</span><br><span class="line">  tab_replace: &#x27;&#x27;</span><br><span class="line">  wrap: true</span><br><span class="line">  hljs: false</span><br><span class="line">prismjs:</span><br><span class="line">  enable: false</span><br><span class="line">  preprocess: true</span><br><span class="line">  line_number: true</span><br><span class="line">  tab_replace: &#x27;&#x27;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td><code>new_post_name</code></td>
<td>新文章的文件名称</td>
<td>:title.md</td>
</tr>
<tr>
<td><code>default_layout</code></td>
<td>预设布局</td>
<td>post</td>
</tr>
<tr>
<td><code>auto_spacing</code></td>
<td>在中文和英文之间加入空格</td>
<td>false</td>
</tr>
<tr>
<td><code>titlecase</code></td>
<td>把标题转换为 title case</td>
<td>false</td>
</tr>
<tr>
<td><code>external_link</code></td>
<td>在新标签中打开链接</td>
<td>true</td>
</tr>
<tr>
<td><code>external_link.enable</code></td>
<td>在新标签中打开链接</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>external_link.field</code></td>
<td>对整个网站（<code>site</code>）生效或仅对文章（<code>post</code>）生效</td>
<td><code>site</code></td>
</tr>
<tr>
<td><code>external_link.exclude</code></td>
<td>需要排除的域名。主域名和子域名如 <code>www</code> 需分别配置</td>
<td><code>[]</code></td>
</tr>
<tr>
<td><code>filename_case</code></td>
<td>把文件名称转换为 (1) 小写或 (2) 大写</td>
<td>0</td>
</tr>
<tr>
<td><code>render_drafts</code></td>
<td>显示草稿</td>
<td>false</td>
</tr>
<tr>
<td><code>post_asset_folder</code></td>
<td>启动 <a href="https://hexo.io/zh-cn/docs/asset-folders">Asset 文件夹</a></td>
<td>false</td>
</tr>
<tr>
<td><code>relative_link</code></td>
<td>把链接改为与根目录的相对位址</td>
<td>false</td>
</tr>
<tr>
<td><code>future</code></td>
<td>显示未来的文章</td>
<td>true</td>
</tr>
<tr>
<td><code>highlight</code></td>
<td>代码块的设置, 请参考 <a href="https://hexo.io/docs/syntax-highlight#Highlight-js">Highlight.js</a> 进行设置</td>
<td></td>
</tr>
<tr>
<td><code>prismjs</code></td>
<td>代码块的设置, 请参考 <a href="https://hexo.io/docs/syntax-highlight#PrismJS">PrismJS</a> 进行设置</td>
<td></td>
</tr>
</tbody></table>
<h3 id="分类和标签"><a href="#分类和标签" class="headerlink" title="分类和标签"></a>分类和标签</h3><p>配置如下：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Category &amp; Tag</span></span><br><span class="line">default_category: uncategorized</span><br><span class="line">category_map:</span><br><span class="line">tag_map:</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td><code>default_category</code></td>
<td>默认分类</td>
<td><code>uncategorized</code></td>
</tr>
<tr>
<td><code>category_map</code></td>
<td>分类别名</td>
<td></td>
</tr>
<tr>
<td><code>tag_map</code></td>
<td>标签别名</td>
<td></td>
</tr>
</tbody></table>
<h3 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h3><p>配置如下：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Pagination</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># Set per_page to 0 to disable pagination</span></span></span><br><span class="line">per_page: 10</span><br><span class="line">pagination_dir: page</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td><code>per_page</code></td>
<td>每页显示的文章量 (0 = 关闭分页功能)</td>
<td><code>10</code></td>
</tr>
<tr>
<td><code>pagination_dir</code></td>
<td>分页目录</td>
<td><code>page</code></td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
  </entry>
  <entry>
    <title>Samtools</title>
    <url>/%E7%94%9F%E4%BF%A1/Samtools/</url>
    <content><![CDATA[<p>​    samtools是一个用于操作sam和bam文件的工具合集。能够实现二进制查看、格式转换、排序及合并等功能，结合sam格式中的flag、tag等信息，还可以完成比对结果的统计汇总。同时利用linux中的grep、awk等操作命令，还可以大大扩展samtools的使用范围与功能。包含有许多命令。</p>
<span id="more"></span>

<h2 id="下载安装"><a href="#下载安装" class="headerlink" title="下载安装"></a>下载安装</h2><ol>
<li><p>conda安装</p>
</li>
<li><p>GitHub安装</p>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mkdir ~/biosoft/samtools</span><br><span class="line">cd ~/biosoft/samtools</span><br><span class="line">wget -c https://github.com/samtools/samtools/releases/download/1.9/samtools-1.9.tar.bz2</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 解压压缩包</span></span><br><span class="line">tar jxvf samtools-1.9.tar.bz2</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">安装samtool</span></span><br><span class="line">./configure --prefix=/home/vip47/biosoft/samtools-1.9</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 对其进行编译</span></span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">调 用方式</span></span><br><span class="line">./samtools --help</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 置入环境变量</span></span><br><span class="line">echo &#x27;export PATH=&quot;/home/vip47/biosoft/samtools-1.9/bin:$PATH&quot; &#x27; &gt;&gt;~/.bashrc</span><br><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure>

<h2 id="Samtool工具包"><a href="#Samtool工具包" class="headerlink" title="Samtool工具包"></a>Samtool工具包</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">samtools</span></span><br><span class="line"></span><br><span class="line">Program: samtools (Tools for alignments in the SAM format)</span><br><span class="line">Version: 1.9 (using htslib 1.9)</span><br><span class="line"></span><br><span class="line">Usage:   samtools &lt;command&gt; [options]</span><br><span class="line"></span><br><span class="line">Commands:</span><br><span class="line">  -- Indexing</span><br><span class="line">     dict           create a sequence dictionary file</span><br><span class="line">     faidx          index/extract FASTA</span><br><span class="line">     fqidx          index/extract FASTQ</span><br><span class="line">     index          index alignment</span><br><span class="line"></span><br><span class="line">  -- Editing</span><br><span class="line">     calmd          recalculate MD/NM tags and &#x27;=&#x27; bases</span><br><span class="line">     fixmate        fix mate information</span><br><span class="line">     reheader       replace BAM header</span><br><span class="line">     targetcut      cut fosmid regions (for fosmid pool only)</span><br><span class="line">     addreplacerg   adds or replaces RG tags</span><br><span class="line">     markdup        mark duplicates</span><br><span class="line"></span><br><span class="line">  -- File operations</span><br><span class="line">     collate        shuffle and group alignments by name</span><br><span class="line">     cat            concatenate BAMs</span><br><span class="line">     merge          merge sorted alignments</span><br><span class="line">     mpileup        multi-way pileup</span><br><span class="line">     sort           sort alignment file</span><br><span class="line">     split          splits a file by read group</span><br><span class="line">     quickcheck     quickly check if SAM/BAM/CRAM file appears intact</span><br><span class="line">     fastq          converts a BAM to a FASTQ</span><br><span class="line">     fasta          converts a BAM to a FASTA</span><br><span class="line"></span><br><span class="line">  -- Statistics</span><br><span class="line">     bedcov         read depth per BED region</span><br><span class="line">     depth          compute the depth</span><br><span class="line">     flagstat       simple stats</span><br><span class="line">     idxstats       BAM index stats</span><br><span class="line">     phase          phase heterozygotes</span><br><span class="line">     stats          generate stats (former bamcheck)</span><br><span class="line"></span><br><span class="line">  -- Viewing</span><br><span class="line">     flags          explain BAM flags</span><br><span class="line">     tview          text alignment viewer</span><br><span class="line">     view           SAM&lt;-&gt;BAM&lt;-&gt;CRAM conversion</span><br><span class="line">     depad          convert padded BAM to unpadded BAM</span><br></pre></td></tr></table></figure>

<p>​    从上面我们可以看到，大致我5类命令块：<code>Indexing</code>,<code>Editing</code>,<code>File operations</code>,<code>Statistics</code>,<code>Viewing</code>，下面我们来看看几个常用的命令</p>
<h3 id="1-view"><a href="#1-view" class="headerlink" title="1.view"></a>1.view</h3><p>​    view命令的主要功能是：将sam文件与bam文件互换；然后对bam文件进行各种操作，比如数据的排序(sort)和提取(这些操作是对bam文件进行的，因而当输入为sam文件的时候，不能进行该操作)；最后将排序或提取得到的数据输出为bam或sam（默认的）格式。</p>
<p>​    bam文件优点：bam文件为二进制文件，占用的磁盘空间比sam文本文件小；利用bam二进制文件的运算速度快。</p>
<p>​    view命令中，对sam文件头部（序列ID）的输入(-t或-T）和输出(-h)是单独的一些参数来控制的。</p>
<blockquote>
<p><code>Usage: samtools view [options] | [region1 [...]]</code></p>
<p>下面的view命令的部分参数</p>
<p>默认情况下不加 region，则是输出所有的 region.options:</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Options: -b       output BAM </span><br><span class="line">									# 输出文件格式为BAM</span><br><span class="line">         -h       print header for the SAM output </span><br><span class="line">         					# 默认下输出的 sam 格式文件不带 header，该参数设定输出sam文件时带 header 信息</span><br><span class="line">         -H       print header only (no alignments) </span><br><span class="line">         					# 仅仅输出头部文件</span><br><span class="line">         -S       input is SAM </span><br><span class="line">         					#输入文件格式为SAM</span><br><span class="line">         -u       uncompressed BAM output (force -b)  </span><br><span class="line">         					# 该参数的使用需要有-b参数，能节约时间，但是需要更多磁盘空间。 </span><br><span class="line">         -1       fast compression (force -b)	</span><br><span class="line">         					# 快速压缩格式</span><br><span class="line">         -x       output FLAG in HEX (samtools-C specific)</span><br><span class="line">         -X       output FLAG in string (samtools-C specific)</span><br><span class="line">         -c       print only the count of matching records</span><br><span class="line">         					# 仅输出匹配的统计记录 </span><br><span class="line">         -B       collapse the backward CIGAR operation</span><br><span class="line">         -@ INT   number of BAM compression threads [0]</span><br><span class="line">         					# 指使用的线程数</span><br><span class="line">         -L FILE  output alignments overlapping the input BED FILE [null]</span><br><span class="line">         					# 仅包括和bed文件存在overlap的reads</span><br><span class="line">         -t FILE  list of reference names and lengths (force -S) [null]</span><br><span class="line">         					# 使用一个list文件来作为header的输入</span><br><span class="line">         -T FILE  reference sequence file (force -S) [null]</span><br><span class="line">         					# 使用序列fasta文件作为header的输入</span><br><span class="line">         -o FILE  output file name [stdout]</span><br><span class="line">         					# 使用序列fasta文件作为header的输入</span><br><span class="line">         -R FILE  list of read groups to be outputted [null]</span><br><span class="line">         -f INT   required flag, 0 for unset [0]</span><br><span class="line">         					## 所选择的flag值</span><br><span class="line">         -F INT   filtering flag, 0 for unset [0]</span><br><span class="line">         					## 不需要的flag值</span><br><span class="line">         -q INT   minimum mapping quality [0]</span><br><span class="line">         					# 比对的最低质量值，一般认为20就为unique比对了，可以结合上述-bF参数使用使用提取特定的比对结果</span><br><span class="line">         -l STR   only output reads in library STR [null]</span><br><span class="line">         -r STR   only output reads in read group STR [null]</span><br><span class="line">         -s FLOAT fraction of templates to subsample; integer part as seed [-1]</span><br><span class="line">         -?       longer help</span><br></pre></td></tr></table></figure>

<p>一些实例；</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 将sam文件转换成bam文件</span></span><br><span class="line">samtools view -bS abc.sam &gt; abc.bam</span><br><span class="line"></span><br><span class="line"><span class="comment"># BAM转换为SAM</span></span><br><span class="line">samtools view -h -o out.sam out.bam</span><br><span class="line"></span><br><span class="line"><span class="comment"># 提取比对到参考序列上的比对结果</span></span><br><span class="line">samtools view -bF 4 abc.bam &gt; abc.F.bam</span><br><span class="line"></span><br><span class="line"><span class="comment"># 提取paired reads中两条reads都比对到参考序列上的比对结果，只需要把两个4+8的值12作为过滤参数即可</span></span><br><span class="line">samtools view -bF 12 abc.bam &gt; abc.F12.bam</span><br><span class="line"></span><br><span class="line"><span class="comment"># 提取没有比对到参考序列上的比对结果</span></span><br><span class="line">samtools view -bf 4 abc.bam &gt; abc.f.bam</span><br><span class="line"></span><br><span class="line"><span class="comment"># 提取bam文件中比对到caffold1上的比对结果，并保存到sam文件格式</span></span><br><span class="line">samtools view abc.bam scaffold1 &gt; scaffold1.sam</span><br><span class="line"></span><br><span class="line"><span class="comment"># 提取scaffold1上能比对到30k到100k区域的比对结果</span></span><br><span class="line">samtools view abc.bam scaffold1:30000-100000 <span class="variable">$gt</span>; scaffold1_30k-100k.sam</span><br><span class="line"></span><br><span class="line"><span class="comment"># 根据fasta文件，将 header 加入到 sam 或 bam 文件中</span></span><br><span class="line">samtools view -T genome.fasta -h scaffold1.sam &gt; scaffold1.h.sam</span><br></pre></td></tr></table></figure>

<h3 id="2-sort"><a href="#2-sort" class="headerlink" title="2. sort"></a>2. sort</h3><p>​    sort对bam文件进行排序。(sam文件无法排序)</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Usage: samtools sort [option] &lt;in.bam&gt; -o &lt;out.prefix&gt;  </span><br><span class="line"></span><br><span class="line">-n Sort by <span class="built_in">read</span> name</span><br><span class="line"><span class="comment">#设定排序方式按short reads的ID排序。默认下是按序列在fasta文件中的顺序（即header）和序列从左往右的位点排序。</span></span><br><span class="line">-m INT     Set maximum memory per thread; suffix K/M/G recognized [768M]</span><br><span class="line"><span class="comment"># 设置每个线程的最大内存，单位可以是K/M/G，默认是 768M。对于处理大数据时，如果内存够用，则设置大点的值，以节约时间。</span></span><br><span class="line">-t TAG     Sort by value of TAG. Uses position as secondary index (or <span class="built_in">read</span> name <span class="keyword">if</span> -n is <span class="built_in">set</span>)</span><br><span class="line"><span class="comment"># 按照TAG值排序</span></span><br><span class="line">-o FILE    Write final output to FILE rather than standard output </span><br><span class="line"><span class="comment"># 输出到文件中，加文件名</span></span><br></pre></td></tr></table></figure>

<h3 id="3-merge和cat"><a href="#3-merge和cat" class="headerlink" title="3.merge和cat"></a>3.merge和cat</h3><p>​    merge将多个已经sort了的bam文件融合成一个bam文件。融合后的文件则是已经sort过了的。而cat命令不需要将bam文件进行sort。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Usage: samtools merge [-nurlf] [-h inh.sam] [-b &lt;bamlist.fofn&gt;] &lt;out.bam&gt; &lt;in1.bam&gt; [&lt;in2.bam&gt; ... &lt;inN.bam&gt;]</span><br><span class="line"></span><br><span class="line">Options: </span><br><span class="line">  -n         Input files are sorted by read name</span><br><span class="line"><span class="meta">#</span><span class="bash"> 输入文件是经过sort -n的</span></span><br><span class="line">  -t TAG     Input files are sorted by TAG value</span><br><span class="line"><span class="meta">#</span><span class="bash"> 输入文件是经过sort -t的</span></span><br><span class="line">  -r         Attach RG tag (inferred from file names)</span><br><span class="line"><span class="meta">#</span><span class="bash"> 添加上RG标签</span></span><br><span class="line">  -u         Uncompressed BAM output</span><br><span class="line"><span class="meta">#</span><span class="bash"> 输出未压缩的bam</span></span><br><span class="line">  -f         Overwrite the output BAM if exist</span><br><span class="line"><span class="meta">#</span><span class="bash"> 覆盖已经存在的bam</span></span><br><span class="line">  -1         Compress level 1</span><br><span class="line"><span class="meta">#</span><span class="bash"> 1倍压缩</span></span><br><span class="line">  -l INT     Compression level, from 0 to 9 [-1]</span><br><span class="line"><span class="meta">#</span><span class="bash"> 指定压缩倍数</span></span><br><span class="line">  -R STR     Merge file in the specified region STR [all]</span><br><span class="line">  -h FILE    Copy the header in FILE to &lt;out.bam&gt; [in1.bam]</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">samtools cat</span></span><br><span class="line">Usage: samtools cat [options] &lt;in1.bam&gt;  [... &lt;inN.bam&gt;]</span><br><span class="line">       samtools cat [options] &lt;in1.cram&gt; [... &lt;inN.cram&gt;]</span><br><span class="line"></span><br><span class="line">Options: -b FILE  list of input BAM/CRAM file names, one per line</span><br><span class="line">         -h FILE  copy the header from FILE [default is 1st input file]</span><br><span class="line">         -o FILE  output BAM/CRAM</span><br></pre></td></tr></table></figure>

<h3 id="4-index"><a href="#4-index" class="headerlink" title="4.index"></a>4.index</h3><p>​    对排序后的序列建立索引，并输出为bai文件，用于快速随机处理。在很多情况下，特别是需要显示比对序列的时候，bai文件是必不可少的，例如之后的tview命令。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Usage: samtools index &lt;in.bam&gt; [out.index]</span><br><span class="line"></span><br><span class="line">samtools index abc.sort.bam</span><br></pre></td></tr></table></figure>

<h3 id="5-faidx"><a href="#5-faidx" class="headerlink" title="5. faidx"></a>5. faidx</h3><p>​    对<code>fasta</code>文件建立索引,生成的索引文件以<code>.fai</code>后缀结尾。该命令也能依据索引文件快速提取<code>fasta</code>文件中的某一条（子）序列</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Usage: samtools faidx &lt;file.fa|file.fa.gz&gt; [&lt;reg&gt; [...]]samtools faidx &lt;file.fa|file.fa.gz&gt; [&lt;reg&gt; [...]]</span><br></pre></td></tr></table></figure>

<h3 id="6-tview"><a href="#6-tview" class="headerlink" title="6. tview"></a>6. tview</h3><p>​    tview能直观的显示出reads比对基因组的情况，和基因组浏览器有点类似。可视化一般用IGV比较好，不建议用tview</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Usage: samtools tview &lt;aln.bam&gt; [ref.fasta]</span><br></pre></td></tr></table></figure>

<p>​    当给出参考基因组的时候，会在第一排显示参考基因组的序列，否则，第一排全用N表示。</p>
<ul>
<li>按下 g ，则提示输入要到达基因组的某一个位点。例子“scaffold_10:1000”表示到达第10号scaffold的第1000个碱基位点处。</li>
<li>使用H(左）J（ 上）K（下）L（右）移动显示界面。大写字母移动快，小写字母移动慢。</li>
<li>使用空格建向左快速移动（和 L 类似），使用Backspace键向左快速移动（和 H 类似）。</li>
<li>Ctrl+H 向左移动1kb碱基距离； Ctrl+L 向右移动1kb碱基距离</li>
<li>可以用颜色标注比对质量，碱基质量，核苷酸等。30～40的碱基质量或比对质量使用白色表示；<ul>
<li>20～30黄色；10～20绿色；0～10蓝色。</li>
<li>使用点号‘.‘切换显示碱基和点号；使用r切换显示read name等</li>
</ul>
</li>
</ul>
<p>还有很多其它的使用说明，具体按 ？ 键来查看。 </p>
<h3 id="7-flagstat"><a href="#7-flagstat" class="headerlink" title="7. flagstat"></a>7. flagstat</h3><p>​    给出BAM文件的比对结果，并输出比对统计结果。除了<code>-@</code>参数指定线程，没有其他的参数</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Usage: samtools flagstat [options] &lt;in.bam&gt;</span><br><span class="line"></span><br><span class="line">samtools flagstat tmp.bam </span><br><span class="line">20000 + 0 in total (QC-passed reads + QC-failed reads)</span><br><span class="line"><span class="meta">#</span><span class="bash"> 总共的reads数</span></span><br><span class="line">0 + 0 secondary</span><br><span class="line">0 + 0 supplementary</span><br><span class="line">0 + 0 duplicates</span><br><span class="line">18995 + 0 mapped (94.98% : N/A)</span><br><span class="line"><span class="meta">#</span><span class="bash"> 总体上reads的匹配率</span></span><br><span class="line">20000 + 0 paired in sequencing</span><br><span class="line"><span class="meta">#</span><span class="bash"> 有多少reads是属于paired reads</span></span><br><span class="line">10000 + 0 read1</span><br><span class="line"><span class="meta">#</span><span class="bash"> reads1中的reads数</span></span><br><span class="line">10000 + 0 read2</span><br><span class="line"><span class="meta">#</span><span class="bash"> reads2中的reads数</span></span><br><span class="line">18332 + 0 properly paired (91.66% : N/A)</span><br><span class="line"><span class="meta">#</span><span class="bash"> 完美匹配的reads数和比例：比对到同一条参考序列，并且两条reads之间的距离符合设置的阈值</span></span><br><span class="line">18416 + 0 with itself and mate mapped</span><br><span class="line"><span class="meta">#</span><span class="bash"> paired reads中两条都比对到参考序列上的reads数</span></span><br><span class="line">579 + 0 singletons (2.90% : N/A)</span><br><span class="line"><span class="meta">#</span><span class="bash"> 单独一条匹配到参考序列上的reads数，和上一个相加，则是总的匹配上的reads数。</span></span><br><span class="line">0 + 0 with mate mapped to a different chr</span><br><span class="line"><span class="meta">#</span><span class="bash"> paired reads中两条分别比对到两条不同的参考序列的reads数</span></span><br><span class="line">0 + 0 with mate mapped to a different chr (mapQ&gt;=5)</span><br><span class="line"><span class="meta">#</span><span class="bash"> 同上一个，只是其中比对质量&gt;=5的reads的数量</span></span><br></pre></td></tr></table></figure>

<h3 id="8-depth"><a href="#8-depth" class="headerlink" title="8. depth"></a>8. depth</h3><p>​    得到每个碱基位点的测序深度，并输出到标准输出。输入的bam文件必须先做samtools index</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Usage:  samtools depth [-r reg] [-q baseQthres] [-Q mapQthres] [-b in.bed] &lt;in1.bam&gt; [...]</span><br><span class="line">-r &lt;chr:from-to&gt;    region</span><br><span class="line"><span class="meta">#</span><span class="bash"> 后面跟染色体号（region）</span></span><br><span class="line">-a  output all positions (including zero depth)</span><br><span class="line"><span class="meta">#</span><span class="bash"> 输入所有位置的序列，包括测序深度为0的</span></span><br><span class="line">-q &lt;int&gt;    base quality threshold [0]</span><br><span class="line"><span class="meta">#</span><span class="bash"> 碱基质量阈值</span></span><br><span class="line">-Q &lt;int&gt;    mapping quality threshold [0]</span><br><span class="line"><span class="meta">#</span><span class="bash"> 比对的质量阈值</span></span><br></pre></td></tr></table></figure>

<h3 id="9-将bam文件转换为fastq文件"><a href="#9-将bam文件转换为fastq文件" class="headerlink" title="9. 将bam文件转换为fastq文件"></a>9. 将bam文件转换为fastq文件</h3><p>有时候，我们需要提取出比对到一段参考序列的reads，进行小范围的分析，以利于debug等。这时需要将bam或sam文件转换为fastq格式。<br>该网站提供了一个bam转换为fastq的程序：<a href="https://links.jianshu.com/go?to=http://www.hudsonalpha.org/gsl/information/software/bam2fastq">http://www.hudsonalpha.org/gsl/information/software/bam2fastq</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget http://www.hudsonalpha.org/gsl/static/software/bam2fastq-1.1.0.tgz</span><br><span class="line">tar zxf bam2fastq-1.1.0.tgz</span><br><span class="line"><span class="built_in">cd</span> bam2fastq-1.1.0</span><br><span class="line">make</span><br><span class="line">./bam2fastq &lt;in.bam&gt;</span><br></pre></td></tr></table></figure>

<h3 id="10-mpileup"><a href="#10-mpileup" class="headerlink" title="10. mpileup"></a>10. mpileup</h3><p>​    samtools还有个非常重要的命令mpileup，以前为pileup。该命令用于生成bcf文件，再使用bcftools进行SNP和Indel的分析。bcftools是samtool中附带的软件，在samtools的安装文件夹中可以找到。<br> 用法：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Usage: samtools mpileup [-EBug] [-C capQcoef] [-r reg] [-f in.fa] [-l list] [-M capMapQ] [-Q minBaseQ] [-q minMapQ] in.bam [in2.bam [...]]</span><br></pre></td></tr></table></figure>

<p>最常用的参数有2：</p>
<ul>
<li>-f 来输入有索引文件的fasta参考 序列；</li>
<li>-g 输出到bcf格式。用法和最简单的例子如下\</li>
</ul>
<p>​    mpileup不使用-u或-g参数时，则不生成二进制的bcf文件，而生成一个文本文件(输出到标准输出)。该文本文件统计了参考序列中每个碱基位点的比对情况；该文件每一行代表了参考序列中某一个碱基位点的比对结果。比如：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">scaffold_1      2841    A       11      ,,,...,....     BHIGDGIJ?FF</span><br><span class="line">scaffold_1      2842    C       12      ,$,,...,....^I. CFGEGEGGCFF+</span><br><span class="line">scaffold_1      2843    G       11      ,,...,.....     FDDDDCD?DD+</span><br><span class="line">scaffold_1      2844    G       11      ,,...,.....     FA?AAAA&lt;AA+</span><br><span class="line">scaffold_1      2845    G       11      ,,...,.....     F656666166*</span><br><span class="line">scaffold_1      2846    A       11      ,,...,.....     (1.1111)11*</span><br><span class="line">scaffold_1      2847    A       11      ,,+9acggtgaag.+9ACGGTGAAT.+9ACGGTGAAG.+9ACGGTGAAG,+9acggtgaag.+9ACGGTGAAG.+9ACGGTGAAG.+9ACGGTGAAG.+9ACGGTGAAG.+9ACGGTGAAG       %.+....-..)</span><br><span class="line">scaffold_1      2848    N       11      agGGGgGGGGG     !!$!!!!!!!!</span><br><span class="line">scaffold_1      2849    A       11      c$,...,.....    !0000000000</span><br><span class="line">scaffold_1      2850    A       10      ,...,.....      353333333</span><br></pre></td></tr></table></figure>

<blockquote>
<p>mpileup生成的结果包含6列：参考序列名；位置；参考碱基；比对上的reads数；比对情况；比对上的碱基的质量。其中第5列比较复杂,解释如下：<br>1 ‘.’代表与参考序列正链匹配。<br>2 ‘,’代表与参考序列负链匹配。<br>3 ‘ATCGN’代表在正链上的不匹配。<br>4 ‘atcgn’代表在负链上的不匹配。<br>5 ‘*’代表模糊碱基<br>6 ‘’ 代表匹配的碱基是一个read的开始；’‘ 后面紧跟的ascii码减去33代表比对质量；这两个符号修饰的是后面的碱基，其后紧跟的碱基(.,ATCGatcgNn)代表该read的第一个碱基。<br>7 ‘$’代表一个read的结束，该符号修饰的是其前面的碱基。<br>8 正则式’+[0-9]+[ACGTNacgtn]+’代表在该位点后插入的碱基；比如上例中在scaffold_1的2847后插入了9个长度的碱基acggtgaag。表明此处极可能是indel。<br>9 正则式’-[0-9]+[ACGTNacgtn]+’代表在该位点后缺失的碱基；</p>
</blockquote>
<h3 id="11-samtools-rmdup"><a href="#11-samtools-rmdup" class="headerlink" title="11. samtools rmdup"></a>11. samtools rmdup</h3><p>​    NGS上机测序前需要进行PCR一步，使一个模板扩增出一簇，从而在上机测序的时候表现出为1个点，即一个reads。若一个模板扩增出了多簇，结 果得到了多个reads，这些reads的坐标(coordinates)是相近的。在进行了reads比对后需要将这些由PCR duplicates获得的reads去掉，并只保留最高比对质量的read。使用rmdup命令即可完成.</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Usage:  samtools rmdup [-sS]  </span><br><span class="line">-s rmdup for SE reads</span><br><span class="line"><span class="meta">#</span><span class="bash"> 对single-end reads。默认情况下，只对paired-end reads</span></span><br><span class="line">-S treat PE reads as SE in rmdup (force -s)</span><br><span class="line"><span class="meta">#</span><span class="bash"> 将Paired-end reads作为single-end reads处理。</span></span><br></pre></td></tr></table></figure>


]]></content>
      <categories>
        <category>生信</category>
      </categories>
      <tags>
        <tag>生信</tag>
        <tag>基础软件</tag>
      </tags>
  </entry>
</search>
